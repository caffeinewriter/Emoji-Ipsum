var EmojiIpsum = function(wordMin,wordMax,wordsPerSentenceMin,wordsPerSentenceMax,paraSentenceMin,paraSentenceMax,emojiRatio){
  this.wordMin = wordMin || 4;
  this.wordMax = wordMax || 8;
  this.wordsPerSentenceMin = wordsPerSentenceMin || 8;
  this.wordsPerSentenceMax = wordsPerSentenceMax || 16;
  this.paraSentenceMin = paraSentenceMin || 3;
  this.paraSentenceMax = paraSentenceMax || 6;
  this.emojiRatio = (emojiRatio/100) || 1;
  this.ipsum = ["lorem","ipsum","dolor","sit","amet,","consectetur","adipiscing","elit","ut","aliquam,","purus","sit","amet","luctus","venenatis,","lectus","magna","fringilla","urna,","porttitor","rhoncus","dolor","purus","non","enim","praesent","elementum","facilisis","leo,","vel","fringilla","est","ullamcorper","eget","nulla","facilisi","etiam","dignissim","diam","quis","enim","lobortis","scelerisque","fermentum","dui","faucibus","in","ornare","quam","viverra","orci","sagittis","eu","volutpat","odio","facilisis","mauris","sit","amet","massa","vitae","tortor","condimentum","lacinia","quis","vel","eros","donec","ac","odio","tempor","orci","dapibus","ultrices","in","iaculis","nunc","sed","augue","lacus,","viverra","vitae","congue","eu,","consequat","ac","felis","donec","et","odio","pellentesque","diam","volutpat","commodo","sed","egestas","egestas","fringilla","phasellus","faucibus","scelerisque","eleifend","donec","pretium","vulputate","sapien","nec","sagittis","aliquam","malesuada","bibendum","arcu","vitae","elementum","curabitur","vitae","nunc","sed","velit","dignissim","sodales","ut","eu","sem","integer","vitae","justo","eget","magna","fermentum","iaculis","eu","non","diam","phasellus","vestibulum","lorem","sed","risus","ultricies","tristique","nulla","aliquet","enim","tortor,","at","auctor","urna","nunc","id","cursus","metus","aliquam","eleifend","mi","in","nulla","posuere","sollicitudin","aliquam","ultrices","sagittis","orci,","a","scelerisque","purus","semper","eget","duis","at","tellus","at","urna","condimentum","mattis","pellentesque","id","nibh","tortor,","id","aliquet","lectus","proin","nibh","nisl,","condimentum","id","venenatis","a,","condimentum","vitae","sapien","pellentesque","habitant","morbi","tristique","senectus","et","netus","et","malesuada","fames","ac","turpis","egestas","sed","tempus,","urna","et","pharetra","pharetra,","massa","massa","ultricies","mi,","quis","hendrerit","dolor","magna","eget","est","lorem","ipsum","dolor","sit","amet,","consectetur","adipiscing","elit","pellentesque","habitant","morbi","tristique","senectus","et","netus","et","malesuada","fames","ac","turpis","egestas","integer","eget","aliquet","nibh","praesent","tristique","magna","sit","amet","purus","gravida","quis","blandit","turpis","cursus","in","hac","habitasse","platea","dictumst","quisque","sagittis,","purus","sit","amet","volutpat","consequat,","mauris","nunc","congue","nisi,","vitae","suscipit","tellus","mauris","a","diam","maecenas","sed","enim","ut","sem","viverra","aliquet","eget","sit","amet","tellus","cras","adipiscing","enim","eu","turpis","egestas","pretium","aenean","pharetra,","magna","ac","placerat","vestibulum,","lectus","mauris","ultrices","eros,","in","cursus","turpis","massa","tincidunt","dui","ut","ornare","lectus","sit","amet","est","placerat","in","egestas","erat","imperdiet","sed","euismod","nisi","porta","lorem","mollis","aliquam","ut","porttitor","leo","a","diam","sollicitudin","tempor","id","eu","nisl","nunc","mi","ipsum,","faucibus","vitae","aliquet","nec,","ullamcorper","sit","amet","risus","nullam","eget","felis","eget","nunc","lobortis","mattis","aliquam","faucibus","purus","in","massa","tempor","nec","feugiat","nisl","pretium","fusce","id","velit","ut","tortor","pretium","viverra","suspendisse","potenti","nullam","ac","tortor","vitae","purus","faucibus","ornare","suspendisse","sed","nisi","lacus,","sed","viverra","tellus","in","hac","habitasse","platea","dictumst","vestibulum","rhoncus","est","pellentesque","elit","ullamcorper","dignissim","cras","tincidunt","lobortis","feugiat","vivamus","at","augue","eget","arcu","dictum","varius","duis","at","consectetur","lorem","donec","massa","sapien,","faucibus","et","molestie","ac,","feugiat","sed","lectus","vestibulum","mattis","ullamcorper","velit","sed","ullamcorper","morbi","tincidunt","ornare","massa,","eget","egestas","purus","viverra","accumsan","in","nisl","nisi,","scelerisque","eu","ultrices","vitae,","auctor","eu","augue","ut","lectus","arcu,","bibendum","at","varius","vel,","pharetra","vel","turpis","nunc","eget","lorem","dolor,","sed","viverra","ipsum","nunc","aliquet","bibendum","enim,","facilisis","gravida","neque","convallis","a","cras","semper","auctor","neque,","vitae","tempus","quam","pellentesque","nec","nam","aliquam","sem","et","tortor","consequat","id","porta","nibh","venenatis","cras","sed","felis","eget","velit","aliquet","sagittis","id","consectetur","purus","ut","faucibus","pulvinar","elementum","integer","enim","neque,","volutpat","ac","tincidunt","vitae,","semper","quis","lectus","nulla","at","volutpat","diam","ut","venenatis","tellus","in","metus","vulputate","eu","scelerisque","felis","imperdiet","proin","fermentum","leo","vel","orci","porta","non","pulvinar","neque","laoreet","suspendisse","interdum","consectetur","libero,","id","faucibus","nisl","tincidunt","eget","nullam","non","nisi","est,","sit","amet","facilisis","magna","etiam","tempor,","orci","eu","lobortis","elementum,","nibh","tellus","molestie","nunc,","non","blandit","massa","enim","nec","dui","nunc","mattis","enim","ut","tellus","elementum","sagittis","vitae","et","leo","duis","ut","diam","quam","nulla","porttitor","massa","id","neque","aliquam","vestibulum","morbi","blandit","cursus","risus,","at","ultrices","mi","tempus","imperdiet","nulla","malesuada","pellentesque","elit","eget","gravida","cum","sociis","natoque","penatibus","et","magnis","dis","parturient","montes,","nascetur","ridiculus","mus","mauris","vitae","ultricies","leo","integer","malesuada","nunc","vel","risus","commodo","viverra","maecenas","accumsan,","lacus","vel","facilisis","volutpat,","est","velit","egestas","dui,","id","ornare","arcu","odio","ut","sem","nulla","pharetra","diam","sit","amet","nisl","suscipit","adipiscing","bibendum","est","ultricies","integer","quis","auctor","elit","sed","vulputate","mi","sit","amet","mauris","commodo","quis","imperdiet","massa","tincidunt","nunc","pulvinar","sapien","et","ligula","ullamcorper","malesuada","proin","libero","nunc,","consequat","interdum","varius","sit","amet,","mattis","vulputate","enim","nulla","aliquet","porttitor","lacus,","luctus","accumsan","tortor","posuere","ac","ut","consequat","semper","viverra","nam","libero","justo,","laoreet","sit","amet","cursus","sit","amet,","dictum","sit","amet","justo","donec","enim","diam,","vulputate","ut","pharetra","sit","amet,","aliquam","id","diam","maecenas","ultricies","mi","eget","mauris","pharetra","et","ultrices","neque","ornare","aenean","euismod","elementum","nisi,","quis","eleifend","quam","adipiscing","vitae","proin","sagittis,","nisl","rhoncus","mattis","rhoncus,","urna","neque","viverra","justo,","nec","ultrices","dui","sapien","eget","mi","proin","sed","libero","enim,","sed","faucibus","turpis","in","eu","mi","bibendum","neque","egestas","congue","quisque","egestas","diam","in","arcu","cursus","euismod","quis","viverra","nibh","cras","pulvinar","mattis","nunc,","sed","blandit","libero","volutpat","sed","cras","ornare","arcu","dui","vivamus","arcu","felis,","bibendum","ut","tristique","et,","egestas","quis","ipsum","suspendisse","ultrices","gravida","dictum","fusce","ut","placerat","orci","nulla","pellentesque","dignissim","enim,","sit","amet","venenatis","urna","cursus","eget","nunc","scelerisque","viverra","mauris,","in","aliquam","sem","fringilla","ut","morbi","tincidunt","augue","interdum","velit","euismod","in","pellentesque","massa","placerat","duis","ultricies","lacus","sed","turpis","tincidunt","id","aliquet","risus","feugiat","in","ante","metus,","dictum","at","tempor","commodo,","ullamcorper","a","lacus","vestibulum","sed","arcu","non","odio","euismod","lacinia","at","quis","risus","sed","vulputate","odio","ut","enim","blandit","volutpat","maecenas","volutpat","blandit","aliquam","etiam","erat","velit,","scelerisque","in","dictum","non,","consectetur","a","erat","nam","at","lectus","urna","duis","convallis","convallis","tellus,","id","interdum","velit","laoreet","id","donec","ultrices","tincidunt","arcu,","non","sodales","neque","sodales","ut","etiam","sit","amet","nisl","purus,","in","mollis","nunc","sed","id","semper","risus","in","hendrerit","gravida","rutrum","quisque","non","tellus","orci,","ac","auctor","augue","mauris","augue","neque,","gravida","in","fermentum","et,","sollicitudin","ac","orci","phasellus","egestas","tellus","rutrum","tellus","pellentesque","eu","tincidunt","tortor","aliquam","nulla","facilisi","cras","fermentum,","odio","eu","feugiat","pretium,","nibh","ipsum","consequat","nisl,","vel","pretium","lectus","quam","id","leo","in","vitae","turpis","massa","sed","elementum","tempus","egestas","sed","sed","risus","pretium","quam","vulputate","dignissim","suspendisse","in","est","ante","in","nibh","mauris,","cursus","mattis","molestie","a,","iaculis","at","erat","pellentesque","adipiscing","commodo","elit,","at","imperdiet","dui","accumsan","sit","amet","nulla","facilisi","morbi","tempus","iaculis","urna,","id","volutpat","lacus","laoreet","non","curabitur","gravida","arcu","ac","tortor","dignissim","convallis","aenean","et","tortor","at","risus","viverra","adipiscing","at","in","tellus","integer","feugiat","scelerisque","varius","morbi","enim","nunc,","faucibus","a","pellentesque","sit","amet,","porttitor","eget","dolor","morbi","non","arcu","risus,","quis","varius","quam","quisque","id","diam","vel","quam","elementum","pulvinar","etiam","non","quam","lacus","suspendisse","faucibus","interdum","posuere","lorem","ipsum","dolor","sit","amet,","consectetur","adipiscing","elit","duis","tristique","sollicitudin","nibh","sit","amet","commodo","nulla","facilisi","nullam","vehicula","ipsum","a","arcu","cursus","vitae","congue","mauris","rhoncus","aenean","vel","elit","scelerisque","mauris","pellentesque","pulvinar","pellentesque","habitant","morbi","tristique","senectus","et","netus","et","malesuada","fames","ac","turpis","egestas","maecenas","pharetra","convallis","posuere","morbi","leo","urna,","molestie","at","elementum","eu,","facilisis","sed","odio","morbi","quis","commodo","odio","aenean","sed","adipiscing","diam","donec","adipiscing","tristique","risus","nec","feugiat","in","fermentum","posuere","urna","nec","tincidunt","praesent","semper","feugiat","nibh","sed","pulvinar","proin","gravida","hendrerit","lectus","a","molestie"];
  this.emojis = ["&#127744;","&#127745;","&#127746;","&#127747;","&#127748;","&#127749;","&#127750;","&#127751;","&#127752;","&#127753;","&#127754;","&#127755;","&#127756;","&#127757;","&#127758;","&#127759;","&#127760;","&#127761;","&#127762;","&#127763;","&#127764;","&#127765;","&#127766;","&#127767;","&#127768;","&#127769;","&#127770;","&#127771;","&#127772;","&#127773;","&#127774;","&#127775;","&#127776;","&#127792;","&#127793;","&#127794;","&#127795;","&#127796;","&#127797;","&#127798;","&#127799;","&#127800;","&#127801;","&#127802;","&#127803;","&#127804;","&#127805;","&#127806;","&#127807;","&#127808;","&#127809;","&#127810;","&#127811;","&#127812;","&#127813;","&#127814;","&#127815;","&#127816;","&#127817;","&#127818;","&#127819;","&#127820;","&#127821;","&#127822;","&#127823;","&#127824;","&#127825;","&#127826;","&#127827;","&#127828;","&#127829;","&#127830;","&#127831;","&#127832;","&#127833;","&#127834;","&#127835;","&#127836;","&#127837;","&#127838;","&#127839;","&#127840;","&#127841;","&#127842;","&#127843;","&#127844;","&#127845;","&#127846;","&#127847;","&#127848;","&#127849;","&#127850;","&#127851;","&#127852;","&#127853;","&#127854;","&#127855;","&#127856;","&#127857;","&#127858;","&#127859;","&#127860;","&#127861;","&#127862;","&#127863;","&#127864;","&#127865;","&#127866;","&#127867;","&#127868;","&#127872;","&#127873;","&#127874;","&#127875;","&#127876;","&#127877;","&#127878;","&#127879;","&#127880;","&#127881;","&#127882;","&#127883;","&#127884;","&#127885;","&#127886;","&#127887;","&#127888;","&#127889;","&#127890;","&#127891;","&#127904;","&#127905;","&#127906;","&#127907;","&#127908;","&#127909;","&#127910;","&#127911;","&#127912;","&#127913;","&#127914;","&#127915;","&#127916;","&#127917;","&#127918;","&#127919;","&#127920;","&#127921;","&#127922;","&#127923;","&#127924;","&#127925;","&#127926;","&#127927;","&#127928;","&#127929;","&#127930;","&#127931;","&#127932;","&#127933;","&#127934;","&#127935;","&#127936;","&#127937;","&#127938;","&#127939;","&#127940;","&#127942;","&#127943;","&#127944;","&#127945;","&#127946;","&#127968;","&#127969;","&#127970;","&#127971;","&#127972;","&#127973;","&#127974;","&#127975;","&#127976;","&#127977;","&#127978;","&#127979;","&#127980;","&#127981;","&#127982;","&#127983;","&#127984;","&#128000;","&#128001;","&#128002;","&#128003;","&#128004;","&#128005;","&#128006;","&#128007;","&#128008;","&#128009;","&#128010;","&#128011;","&#128012;","&#128013;","&#128014;","&#128015;","&#128016;","&#128017;","&#128018;","&#128019;","&#128020;","&#128021;","&#128022;","&#128023;","&#128024;","&#128025;","&#128026;","&#128027;","&#128028;","&#128029;","&#128030;","&#128031;","&#128032;","&#128033;","&#128034;","&#128035;","&#128036;","&#128037;","&#128038;","&#128039;","&#128040;","&#128041;","&#128042;","&#128043;","&#128044;","&#128045;","&#128046;","&#128047;","&#128048;","&#128049;","&#128050;","&#128051;","&#128052;","&#128053;","&#128054;","&#128055;","&#128056;","&#128057;","&#128058;","&#128059;","&#128060;","&#128061;","&#128062;","&#128064;","&#128066;","&#128067;","&#128068;","&#128069;","&#128070;","&#128071;","&#128072;","&#128073;","&#128074;","&#128075;","&#128076;","&#128077;","&#128078;","&#128079;","&#128080;","&#128081;","&#128082;","&#128083;","&#128084;","&#128085;","&#128086;","&#128087;","&#128088;","&#128089;","&#128090;","&#128091;","&#128092;","&#128093;","&#128094;","&#128095;","&#128096;","&#128097;","&#128098;","&#128099;","&#128100;","&#128101;","&#128102;","&#128103;","&#128104;","&#128105;","&#128106;","&#128107;","&#128108;","&#128109;","&#128110;","&#128111;","&#128112;","&#128113;","&#128114;","&#128115;","&#128116;","&#128117;","&#128118;","&#128119;","&#128120;","&#128121;","&#128122;","&#128123;","&#128124;","&#128125;","&#128126;","&#128127;","&#128128;","&#128129;","&#128130;","&#128131;","&#128132;","&#128133;","&#128134;","&#128135;","&#128136;","&#128137;","&#128138;","&#128139;","&#128140;","&#128141;","&#128142;","&#128143;","&#128144;","&#128145;","&#128146;","&#128147;","&#128148;","&#128149;","&#128150;","&#128151;","&#128152;","&#128153;","&#128154;","&#128155;","&#128156;","&#128157;","&#128158;","&#128159;","&#128160;","&#128161;","&#128162;","&#128163;","&#128164;","&#128165;","&#128166;","&#128167;","&#128168;","&#128169;","&#128170;","&#128171;","&#128172;","&#128173;","&#128174;","&#128175;","&#128176;","&#128177;","&#128178;","&#128179;","&#128180;","&#128181;","&#128182;","&#128183;","&#128184;","&#128185;","&#128186;","&#128187;","&#128188;","&#128189;","&#128190;","&#128191;","&#128192;","&#128193;","&#128194;","&#128195;","&#128196;","&#128197;","&#128198;","&#128199;","&#128200;","&#128201;","&#128202;","&#128203;","&#128204;","&#128205;","&#128206;","&#128207;","&#128208;","&#128209;","&#128210;","&#128211;","&#128212;","&#128213;","&#128214;","&#128215;","&#128216;","&#128217;","&#128218;","&#128219;","&#128220;","&#128221;","&#128222;","&#128223;","&#128224;","&#128225;","&#128226;","&#128227;","&#128228;","&#128229;","&#128230;","&#128231;","&#128232;","&#128233;","&#128234;","&#128235;","&#128236;","&#128237;","&#128238;","&#128239;","&#128240;","&#128241;","&#128242;","&#128243;","&#128244;","&#128245;","&#128246;","&#128247;","&#128249;","&#128250;","&#128251;","&#128252;","&#128256;","&#128257;","&#128258;","&#128259;","&#128260;","&#128261;","&#128262;","&#128263;","&#128264;","&#128265;","&#128266;","&#128267;","&#128268;","&#128269;","&#128270;","&#128271;","&#128272;","&#128273;","&#128274;","&#128275;","&#128276;","&#128277;","&#128278;","&#128279;","&#128280;","&#128281;","&#128282;","&#128283;","&#128284;","&#128285;","&#128286;","&#128287;","&#128288;","&#128289;","&#128290;","&#128291;","&#128292;","&#128293;","&#128294;","&#128295;","&#128296;","&#128297;","&#128298;","&#128299;","&#128300;","&#128301;","&#128302;","&#128303;","&#128304;","&#128305;","&#128306;","&#128307;","&#128308;","&#128309;","&#128310;","&#128311;","&#128312;","&#128313;","&#128314;","&#128315;","&#128316;","&#128317;","&#128320;","&#128321;","&#128322;","&#128323;","&#128336;","&#128337;","&#128338;","&#128339;","&#128340;","&#128341;","&#128342;","&#128343;","&#128344;","&#128345;","&#128346;","&#128347;","&#128348;","&#128349;","&#128350;","&#128351;","&#128352;","&#128353;","&#128354;","&#128355;","&#128356;","&#128357;","&#128358;","&#128359;","&#128507;","&#128508;","&#128509;","&#128510;","&#128511;"];
};

EmojiIpsum.prototype.randomInt = function(min,max) {
  return Math.floor(Math.random() * (max - min + 1)) + min;
}

EmojiIpsum.prototype.capitaliseFirstLetter = function(string) {
    return string.charAt(0).toUpperCase() + string.slice(1);
}

EmojiIpsum.prototype.emojiWord = function() {
  var curWord = '';
  var emojiKey;
  for (i=0;i<this.randomInt(this.wordMin,this.wordMax);i++) {
    emojiKey = Math.floor(Math.random()*this.emojis.length-1);
    curWord += (this.emojis[emojiKey] != undefined)?this.emojis[emojiKey]:'&#128137;';
  }
  return curWord;
}

EmojiIpsum.prototype.ipsumWord = function() {
  var curWord = this.ipsum[Math.floor(Math.random()*this.ipsum.length-1)];
  return curWord;
}

EmojiIpsum.prototype.genSentence = function() {
  var curSentence = '';
  var endAt = this.randomInt(this.wordsPerSentenceMin,this.wordsPerSentenceMax);
  for (j=0;j<endAt;j++) {
    
    curSentence += ((Math.random() < this.emojiRatio) ? this.emojiWord() : (j === 0)?this.capitaliseFirstLetter(this.ipsumWord()):this.ipsumWord()) + ((j !== endAt-1)?' ':'. ');
  }
  return curSentence;
}

EmojiIpsum.prototype.genPara = function() {
  var curParagraph = '';
  for (k=0;k<this.randomInt(this.paraSentenceMin,this.paraSentenceMax);k++) {
    curParagraph += this.genSentence();
  }
  return curParagraph;
}

EmojiIpsum.prototype.genHTML = function(totalParagraphs) {
  totalParagraphs = totalParagraphs || 4;
  var emojiHTML = '';
  for (l=0;l<totalParagraphs;l++) {
    emojiHTML += '<p>'+this.genPara()+'</p>';
  }
  return emojiHTML;
}
